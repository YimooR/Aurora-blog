{"title":"å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨","uid":"1632a637a5b83536ed0fd61b88270acb","slug":"Hexo/å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨","date":"2022-12-22T23:11:00.000Z","updated":"2023-02-02T15:44:44.075Z","comments":true,"path":"api/articles/Hexo/å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVOZz2AAaN5Gl77-CtWr2-Tr.png","content":"<h1 id=\"å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨\"><a href=\"#å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨\" class=\"headerlink\" title=\"å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨\"></a>å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨</h1><h2 id=\"1-å‡†å¤‡å·¥ä½œ\"><a href=\"#1-å‡†å¤‡å·¥ä½œ\" class=\"headerlink\" title=\"1.å‡†å¤‡å·¥ä½œ\"></a>1.å‡†å¤‡å·¥ä½œ</h2><p> åœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œéœ€è¦å‡†å¤‡å¦‚ä¸‹ï¼š<br>   1.æœ¬åœ°æ­å»ºå®Œæˆçš„Hexoåšå®¢<br>   2.å·²è´­ä¹°çš„ä¸€å°ECSæœåŠ¡å™¨<br>  3.å·²æ‹¥æœ‰SSLè¯ä¹¦ï¼ˆå¯ä»¥ç”³è¯·å…è´¹è¯ä¹¦ï¼‰<br>   4.<code>X-shell</code>è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„å·¥å…·ï¼ˆMacç³»ç»Ÿå¯ä»¥ç”¨<code>ProtX</code>ï¼‰</p>\n<h2 id=\"2-å®‰è£…é…ç½®git\"><a href=\"#2-å®‰è£…é…ç½®git\" class=\"headerlink\" title=\"2.å®‰è£…é…ç½®git\"></a>2.å®‰è£…é…ç½®git</h2><h3 id=\"2-1å®‰è£…ä¾èµ–å·¥å…·åŒ…\"><a href=\"#2-1å®‰è£…ä¾èµ–å·¥å…·åŒ…\" class=\"headerlink\" title=\"2.1å®‰è£…ä¾èµ–å·¥å…·åŒ…\"></a>2.1å®‰è£…ä¾èµ–å·¥å…·åŒ…</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> curl-devel expat-devel gettext-devel openssl-devel zlib-devel <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-2å®‰è£…ç¼–è¯‘å·¥å…·\"><a href=\"#2-2å®‰è£…ç¼–è¯‘å·¥å…·\" class=\"headerlink\" title=\"2.2å®‰è£…ç¼–è¯‘å·¥å…·\"></a>2.2å®‰è£…ç¼–è¯‘å·¥å…·</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> gcc perl-ExtUtils-MakeMaker package<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-3åˆ é™¤æ—§ç‰ˆgit\"><a href=\"#2-3åˆ é™¤æ—§ç‰ˆgit\" class=\"headerlink\" title=\"2.3åˆ é™¤æ—§ç‰ˆgit\"></a>2.3åˆ é™¤æ—§ç‰ˆgit</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove <span class=\"token function\">git</span> <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-4è¿›å…¥æ ¹ç›®å½•\"><a href=\"#2-4è¿›å…¥æ ¹ç›®å½•\" class=\"headerlink\" title=\"2.4è¿›å…¥æ ¹ç›®å½•\"></a>2.4è¿›å…¥æ ¹ç›®å½•</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-5ä¸‹è½½gitåˆ°æ ¹ç›®å½•\"><a href=\"#2-5ä¸‹è½½gitåˆ°æ ¹ç›®å½•\" class=\"headerlink\" title=\"2.5ä¸‹è½½gitåˆ°æ ¹ç›®å½•\"></a>2.5ä¸‹è½½gitåˆ°æ ¹ç›®å½•</h3><p>é‰´äºä¸‹è½½åœ°å€çš„æ—¶æ•ˆæ€§ï¼Œé™„ä¸Š<a href=\"https://git-scm.com/download/linux\">å®˜ç½‘åœ°å€</a>,åç»­gitæ›´æ–°è¯·å»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ã€‚</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://www.kernel.org/pub/software/scm/git/git-2.34.0.tar.gz --no-check-certificate<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¦‚æœæç¤ºæ²¡æœ‰wgetå‘½ä»¤ï¼Œå…ˆå®‰è£…ï¼š</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-6è§£å‹gitæ–‡ä»¶\"><a href=\"#2-6è§£å‹gitæ–‡ä»¶\" class=\"headerlink\" title=\"2.6è§£å‹gitæ–‡ä»¶\"></a>2.6è§£å‹gitæ–‡ä»¶</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxf</span> git-2.34.0.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-7å®‰è£…git\"><a href=\"#2-7å®‰è£…git\" class=\"headerlink\" title=\"2.7å®‰è£…git\"></a>2.7å®‰è£…git</h3><p>è¿›å…¥gitç›®å½•ä¸‹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> git-2.34.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>ç¼–è¯‘</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> all <span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/usr/local/git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å®‰è£…gitåˆ°<code>/usr/local/git</code>ä¸‹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span> <span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/usr/local/git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-8é…ç½®gitç¯å¢ƒå˜é‡\"><a href=\"#2-8é…ç½®gitç¯å¢ƒå˜é‡\" class=\"headerlink\" title=\"2.8é…ç½®gitç¯å¢ƒå˜é‡\"></a>2.8é…ç½®gitç¯å¢ƒå˜é‡</h3><p>å°†gitåŠ å…¥<code>PATH</code>ç›®å½•ä¸­</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'export PATH=$PATH:/usr/local/git/bin'</span> <span class=\"token operator\">>></span> /etc/bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>è®©é…ç½®ç”Ÿæ•ˆ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> /etc/bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æŸ¥çœ‹gitæ˜¯å¦å®‰è£…æˆåŠŸ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token parameter variable\">--version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"3-åˆ›å»ºç”¨æˆ·å¹¶é…ç½®SSHå…å¯†ç™»å½•\"><a href=\"#3-åˆ›å»ºç”¨æˆ·å¹¶é…ç½®SSHå…å¯†ç™»å½•\" class=\"headerlink\" title=\"3.åˆ›å»ºç”¨æˆ·å¹¶é…ç½®SSHå…å¯†ç™»å½•\"></a>3.åˆ›å»ºç”¨æˆ·å¹¶é…ç½®SSHå…å¯†ç™»å½•</h2><h3 id=\"3-1åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç \"><a href=\"#3-1åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç \" class=\"headerlink\" title=\"3.1åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç \"></a>3.1åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç </h3><p>è¿™é‡Œçš„<code>username</code>æ”¹æˆä½ è‡ªå·±çš„ç”¨æˆ·åï¼Œå¹¶ä¸”ä¸ºç”¨æˆ·è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">adduser <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>\n<span class=\"token function\">passwd</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"3-2ä¸ºç”¨æˆ·åˆ†é…æƒé™\"><a href=\"#3-2ä¸ºç”¨æˆ·åˆ†é…æƒé™\" class=\"headerlink\" title=\"3.2ä¸ºç”¨æˆ·åˆ†é…æƒé™\"></a>3.2ä¸ºç”¨æˆ·åˆ†é…æƒé™</h3><p>æŠŠç”¨æˆ·æ·»åŠ åˆ°wheelç»„</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">usermod</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">-G</span> wheel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"3-3æœ¬åœ°åˆ›å»ºå¯†é’¥\"><a href=\"#3-3æœ¬åœ°åˆ›å»ºå¯†é’¥\" class=\"headerlink\" title=\"3.3æœ¬åœ°åˆ›å»ºå¯†é’¥\"></a>3.3æœ¬åœ°åˆ›å»ºå¯†é’¥</h3><p>åœ¨æœ¬æœºç”µè„‘ç»ˆç«¯è¾“å…¥ï¼š</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ssh-keygen <span class=\"token parameter variable\">-t</span> rsa<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4e8e708b68301638cbe24.png\" alt=\"ç»ˆç«¯æˆªå›¾\"><br>ç„¶åä¸€ç›´å›è½¦(ä¸ç”¨è¾“å…¥)ï¼Œæ–°å»ºä¸€ä¸ªå¯†é’¥ã€‚</p>\n<p>ä¸€èˆ¬æ¥è¯´åœ¨ä½ åˆ›å»ºçš„æ—¶å€™å‘½ä»¤è¡Œä¼šæç¤ºä½ å¯†é’¥æ–‡ä»¶çš„è·¯å¾„ï¼Œwindowsç”µè„‘ä¸€èˆ¬æ˜¯C:\\Users\\Administrator.ssh</p>\n<p>å¤åˆ¶id_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹å¤‡ç”¨ã€‚</p>\n<h3 id=\"3-4é…ç½®å…¬é’¥\"><a href=\"#3-4é…ç½®å…¬é’¥\" class=\"headerlink\" title=\"3.4é…ç½®å…¬é’¥\"></a>3.4é…ç½®å…¬é’¥</h3><p>å›åˆ°æœåŠ¡å™¨ç»ˆç«¯ï¼Œåˆ‡æ¢ç”¨æˆ·</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> - <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>åˆ›å»º<code>.ssh</code>æ–‡ä»¶å¤¹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> .ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æ–°å»º<code>authorized_keys</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> .ssh/authorized_keys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¦‚æœæç¤ºæ²¡æœ‰vimï¼Œåˆ™å…ˆå®‰è£…ï¼š</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">vim</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å°†åˆšåˆš<code>id_rsa.pub</code>å…¬é’¥ä¸­çš„å†…å®¹ï¼Œå¤åˆ¶ç²˜è´´åˆ°æ–‡ä»¶é‡Œï¼Œä¿å­˜é€€å‡ºã€‚</p>\n<h2 id=\"4-gitä»“åº“é…ç½®\"><a href=\"#4-gitä»“åº“é…ç½®\" class=\"headerlink\" title=\"4.gitä»“åº“é…ç½®\"></a>4.gitä»“åº“é…ç½®</h2><p>é€€å‡ºç”¨æˆ·ç™»å½•</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">exit</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æ­¤æ—¶åº”è¯¥æ˜¯rootç”¨æˆ·ï¼Œåˆ›å»ºgitç›®å½•ï¼Œå¹¶ä¿®æ”¹ç›®å½•çš„æ‰€æœ‰æƒå’Œç”¨æˆ·æƒé™</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> /home/git/\n<span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> /home/git/\n<span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">755</span> /home/git/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>è¿›å…¥ç›®å½•ï¼Œå»ºç«‹gitä»“åº“ï¼Œä¿®æ”¹æƒé™</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /home/git/\n<span class=\"token function\">git</span> init <span class=\"token parameter variable\">--bare</span> blog.git\n<span class=\"token function\">chown</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">-R</span> blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>æ–°å»ºé’©å­æ–‡ä»¶<code>post-receive</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /home/git/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>è¿›å…¥æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç²˜è´´ä¸‹é¢ä¸¤è¡Œã€‚</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token function\">git</span> --work-tree<span class=\"token operator\">=</span>/home/blog --git-dir<span class=\"token operator\">=</span>/home/git/blog.git checkout <span class=\"token parameter variable\">-f</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>ä¿å­˜é€€å‡ºã€‚ç„¶åä¿®æ”¹æ–‡ä»¶æƒé™</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> +x /home/git/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"5-nginxé…ç½®\"><a href=\"#5-nginxé…ç½®\" class=\"headerlink\" title=\"5.nginxé…ç½®\"></a>5.nginxé…ç½®</h2><p>é¦–å…ˆåˆ›å»ºblogç›®å½•ç”¨æˆ·nginxè½¬å‘</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> /home/blog/\n<span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> /home/blog/\n<span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">755</span> /home/blog/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"5-1å®‰è£…nginx\"><a href=\"#5-1å®‰è£…nginx\" class=\"headerlink\" title=\"5.1å®‰è£…nginx\"></a>5.1å®‰è£…nginx</h3><p>yumå®‰è£…nginxï¼ˆå¯ä»¥ä½¿ç”¨å®‰è£…åŒ…å®‰è£…ï¼Œè¿™é‡Œå°±ä¸å†™äº†ï¼‰</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>å¯åŠ¨nginx</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl start nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æŸ¥çœ‹nginxæœåŠ¡çŠ¶æ€ï¼Œç»¿è‰²çš„activeè¯´æ˜å¯åŠ¨æˆåŠŸ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>è®¾ç½®nginxå¼€æœºå¯åŠ¨</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl <span class=\"token builtin class-name\">enable</span> nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>é‡å¯æœåŠ¡å™¨</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">reboot</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>é‡å¯åï¼ŒæŸ¥çœ‹nginxæœåŠ¡çŠ¶æ€ï¼Œç»¿è‰²çš„activeè¯´æ˜å¯åŠ¨æˆåŠŸ</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"5-2ä¸‹è½½SSLè¯ä¹¦\"><a href=\"#5-2ä¸‹è½½SSLè¯ä¹¦\" class=\"headerlink\" title=\"5.2ä¸‹è½½SSLè¯ä¹¦\"></a>5.2ä¸‹è½½SSLè¯ä¹¦</h3><p>æ‰“å¼€é˜¿é‡Œäº‘æ§åˆ¶å°SSLè¯ä¹¦ç•Œé¢ï¼Œç‚¹å‡»ä¸‹è½½æŒ‰é’®<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa62.png\" alt=\"SSLè¯ä¹¦ç•Œé¢\"><br>é€‰æ‹©Nginxç‰ˆæœ¬<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa5c.png\" alt=\"Nginxç‰ˆæœ¬\"><br>ä¸‹è½½å¾—åˆ°<code>.key</code>å’Œ<code>.pem</code>ä¸¤ä¸ªæ–‡ä»¶<br>åœ¨Nginxæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºcertæ–‡ä»¶å¤¹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> cert<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>é€šè¿‡X-shellå°†æ–‡ä»¶ä¼ å…¥certæ–‡ä»¶ä¸‹<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa54.png\" alt=\"certæ–‡ä»¶å¤¹\"></p>\n<h3 id=\"5-3ä¿®æ”¹nginxè½¬å‘é…ç½®ï¼ˆåŒ…å«httpsï¼‰\"><a href=\"#5-3ä¿®æ”¹nginxè½¬å‘é…ç½®ï¼ˆåŒ…å«httpsï¼‰\" class=\"headerlink\" title=\"5.3ä¿®æ”¹nginxè½¬å‘é…ç½®ï¼ˆåŒ…å«httpsï¼‰\"></a>5.3ä¿®æ”¹nginxè½¬å‘é…ç½®ï¼ˆåŒ…å«httpsï¼‰</h3><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœåŠ¡å™¨å…¬ç½‘ipåœ°å€ï¼Œæµ‹è¯•æ˜¯å¦èƒ½æ‰“å¼€ã€‚<br>æ‰¾åˆ°nginxçš„confé…ç½®æ–‡ä»¶ï¼Œæˆ‘çš„æ˜¯åœ¨<code>/etc/nginx/nginx.conf</code><br>ä¿®æ”¹é…ç½®æ–‡ä»¶</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /etc/nginx/nginx.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æ‰¾åˆ°serverï¼Œä¿®æ”¹å¦‚ä¸‹</p>\n<pre class=\"line-numbers language-txt\" data-language=\"txt\"><code class=\"language-txt\">server &#123;\n          listen       443 ssl http2;\n          listen       [::]:443 ssl http2;\n          #åŸŸå\n          server_name  xxxxxx;\n          #åšå®¢æ ¹ç›®å½•\n          root         /home/blog;\n\n          index index.html index.htm;\n          #pemæ–‡ä»¶åœ°å€\n          ssl_certificate /etc/nginx/cert/xxxxxxxxxxxx.pem;\n          #keyæ–‡ä»¶åœ°å€\n          ssl_certificate_key /etc/nginx/cert/xxxxxxxxxxxx.key;\n          ssl_session_cache shared:SSL:1m;\n          ssl_session_timeout  10m;\n          #åŠ å¯†æ–¹å¼\n          ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n          ssl_prefer_server_ciphers on;\n      \n          # Load configuration files for the default server block.\n          include /etc/nginx/default.d/*.conf;\n     \n          error_page 404 /404.html;\n              location = /40x.html &#123;\n          &#125;\n      \n          error_page 500 502 503 504 /50x.html;\n              location = /50x.html &#123;\n          &#125;\n      &#125;\n    #å°†è¯·æ±‚è½¬æˆhttps\n      server &#123;\n          listen 80;\n          #åŸŸå\n          server_name xxxxxxx;\n          rewrite ^(.*)$ https://$host$1 permanent;\n       &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>é‡å¯nginx</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl restart nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>æŸ¥çœ‹nginxçŠ¶æ€ï¼Œç»¿è‰²è¡¨ç¤ºæˆåŠŸï¼</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"6-åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®\"><a href=\"#6-åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®\" class=\"headerlink\" title=\"6.åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®\"></a>6.åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®</h2><p>æ‰“å¼€æœ¬åœ°åšå®¢ï¼Œæ‰¾åˆ°_config.ymlæ–‡ä»¶å¹¶æ‰“å¼€ï¼Œä¿®æ”¹å¦‚ä¸‹é…ç½®</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>@100.0.0.100<span class=\"token punctuation\">:</span>/home/git/blog.git   <span class=\"token comment\">#ç”¨æˆ·å@æœåŠ¡å™¨Ip:gitä»“åº“ä½ç½®</span>\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>ä¿å­˜åï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤å°†æœ¬åœ°åšå®¢éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean\nhexo g\nhexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","feature":true,"text":"å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨1.å‡†å¤‡å·¥ä½œ åœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œéœ€è¦å‡†å¤‡å¦‚ä¸‹ï¼š 1.æœ¬åœ°æ­å»ºå®Œæˆçš„Hexoåšå®¢ 2.å·²è´­ä¹°çš„ä¸€å°ECSæœåŠ¡å™¨ 3.å·²æ‹¥æœ‰SSLè¯ä¹¦ï¼ˆå¯ä»¥ç”³è¯·å…è´¹è¯ä¹¦ï¼‰ 4.X-shellè¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„å·¥å…·ï¼ˆMacç³»ç»Ÿå¯ä»¥ç”¨ProtXï¼‰ 2.å®‰è£…é…ç½®git2.1å®‰è£…...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/categories/Hexo.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/tags/Hexo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%B0%86Hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91ECS%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">å°†Hexoéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECSæœåŠ¡å™¨</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">1.å‡†å¤‡å·¥ä½œ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEgit\"><span class=\"toc-text\">2.å®‰è£…é…ç½®git</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%B7%A5%E5%85%B7%E5%8C%85\"><span class=\"toc-text\">2.1å®‰è£…ä¾èµ–å·¥å…·åŒ…</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">2.2å®‰è£…ç¼–è¯‘å·¥å…·</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3%E5%88%A0%E9%99%A4%E6%97%A7%E7%89%88git\"><span class=\"toc-text\">2.3åˆ é™¤æ—§ç‰ˆgit</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-4%E8%BF%9B%E5%85%A5%E6%A0%B9%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">2.4è¿›å…¥æ ¹ç›®å½•</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-5%E4%B8%8B%E8%BD%BDgit%E5%88%B0%E6%A0%B9%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">2.5ä¸‹è½½gitåˆ°æ ¹ç›®å½•</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-6%E8%A7%A3%E5%8E%8Bgit%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2.6è§£å‹gitæ–‡ä»¶</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-7%E5%AE%89%E8%A3%85git\"><span class=\"toc-text\">2.7å®‰è£…git</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-8%E9%85%8D%E7%BD%AEgit%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">2.8é…ç½®gitç¯å¢ƒå˜é‡</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%B9%B6%E9%85%8D%E7%BD%AESSH%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95\"><span class=\"toc-text\">3.åˆ›å»ºç”¨æˆ·å¹¶é…ç½®SSHå…å¯†ç™»å½•</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">3.1åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç </span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2%E4%B8%BA%E7%94%A8%E6%88%B7%E5%88%86%E9%85%8D%E6%9D%83%E9%99%90\"><span class=\"toc-text\">3.2ä¸ºç”¨æˆ·åˆ†é…æƒé™</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-3%E6%9C%AC%E5%9C%B0%E5%88%9B%E5%BB%BA%E5%AF%86%E9%92%A5\"><span class=\"toc-text\">3.3æœ¬åœ°åˆ›å»ºå¯†é’¥</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4%E9%85%8D%E7%BD%AE%E5%85%AC%E9%92%A5\"><span class=\"toc-text\">3.4é…ç½®å…¬é’¥</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-git%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">4.gitä»“åº“é…ç½®</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-nginx%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">5.nginxé…ç½®</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1%E5%AE%89%E8%A3%85nginx\"><span class=\"toc-text\">5.1å®‰è£…nginx</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-2%E4%B8%8B%E8%BD%BDSSL%E8%AF%81%E4%B9%A6\"><span class=\"toc-text\">5.2ä¸‹è½½SSLè¯ä¹¦</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3%E4%BF%AE%E6%94%B9nginx%E8%BD%AC%E5%8F%91%E9%85%8D%E7%BD%AE%EF%BC%88%E5%8C%85%E5%90%ABhttps%EF%BC%89\"><span class=\"toc-text\">5.3ä¿®æ”¹nginxè½¬å‘é…ç½®ï¼ˆåŒ…å«httpsï¼‰</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E5%9C%A8hexo%E7%AB%99%E7%82%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">6.åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­é…ç½®</span></a></li></ol></li></ol>","author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"è¿™æ˜¯ä¸€ä¸ªçŸ¥è¯†åˆ†äº«åšå®¢ğŸ‰ï¼Œæœ‰ä»€ä¹ˆå»ºè®®è¯·ç•™è¨€ã€‚æ¬¢è¿æ¢è®¨æŠ€æœ¯ğŸ˜ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"mapped":true,"prev_post":{"title":"Linuxä¹‹vimç¼–è¾‘å™¨","uid":"ed524054e4ea66ffb037d331f140784b","slug":"Linux/vimç¼–è¾‘å™¨","date":"2023-01-04T12:46:00.000Z","updated":"2023-02-02T15:45:56.238Z","comments":true,"path":"api/articles/Linux/vimç¼–è¾‘å™¨.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVPCPNkBPLtLtZ8Uit4WUcTR.png","text":"ç¬¬äºŒç«  vimç¼–è¾‘å™¨ä¸€ã€viç¼–è¾‘å™¨ç®€ä»‹vim æ˜¯ä¸€ä¸ªå…¨å±å¹•çº¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ˜¯viç¼–è¾‘å™¨çš„å¢å¼ºç‰ˆï¼Œæˆ‘ä»¬ä¸»è¦è®²è§£çš„æ˜¯ vim ç¼–è¾‘å™¨ã€‚å¯ä»¥åˆ©ç”¨åˆ«åè®©è¾“å…¥vi å‘½ä»¤çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ‰§è¡Œ vimç¼–è¾‘å™¨ï¼Œä¾‹å¦‚ï¼š [root@localhost ~]# alias vi='vim' #å®šä¹‰åˆ«å ...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"Linux","slug":"Linux","count":4,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"}],"author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"è¿™æ˜¯ä¸€ä¸ªçŸ¥è¯†åˆ†äº«åšå®¢ğŸ‰ï¼Œæœ‰ä»€ä¹ˆå»ºè®®è¯·ç•™è¨€ã€‚æ¬¢è¿æ¢è®¨æŠ€æœ¯ğŸ˜ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"feature":true},"next_post":{"title":"LinuxæœåŠ¡å™¨ç®¡ç†å»ºè®®","uid":"90e0c478513c4a16991925aa88ef6f99","slug":"Linux/LinuxæœåŠ¡å™¨ç®¡ç†å»ºè®®","date":"2022-12-22T09:00:00.000Z","updated":"2023-02-02T15:45:42.919Z","comments":true,"path":"api/articles/Linux/LinuxæœåŠ¡å™¨ç®¡ç†å»ºè®®.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVPCPNkBPLtLtZ8Uit4WUcTR.png","text":"ç»™åˆå­¦è€…çš„ Linux æœåŠ¡å™¨ç®¡ç†å»ºè®®ä¸€ã€å­¦ä¹  Linux çš„æ³¨æ„äº‹é¡¹1. Linux ä¸¥æ ¼åŒºåˆ†å¤§å°å†™Linux æ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ï¼Œè¿™ä¸€ç‚¹å’Œ Windows ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ“ä½œæ—¶è¦æ³¨æ„åŒºåˆ†å¤§å°å†™çš„ä¸åŒï¼ŒåŒ…æ‹¬æ–‡ä»¶åå’Œç›®å½•åã€å‘½ä»¤ã€å‘½ä»¤é€‰é¡¹ã€é…ç½®æ–‡ä»¶è®¾ç½®é€‰é¡¹ç­‰ã€‚ 2. Linuxä¸€åˆ‡...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"Linux","slug":"Linux","count":4,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"}],"author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"è¿™æ˜¯ä¸€ä¸ªçŸ¥è¯†åˆ†äº«åšå®¢ğŸ‰ï¼Œæœ‰ä»€ä¹ˆå»ºè®®è¯·ç•™è¨€ã€‚æ¬¢è¿æ¢è®¨æŠ€æœ¯ğŸ˜ã€‚","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"feature":true}}