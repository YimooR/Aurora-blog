{"title":"将Hexo部署到阿里云ECS服务器","uid":"1632a637a5b83536ed0fd61b88270acb","slug":"Hexo/将Hexo部署到阿里云服务器","date":"2022-12-22T23:11:00.000Z","updated":"2023-02-02T15:44:44.075Z","comments":true,"path":"api/articles/Hexo/将Hexo部署到阿里云服务器.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVOZz2AAaN5Gl77-CtWr2-Tr.png","content":"<h1 id=\"将Hexo部署到阿里云ECS服务器\"><a href=\"#将Hexo部署到阿里云ECS服务器\" class=\"headerlink\" title=\"将Hexo部署到阿里云ECS服务器\"></a>将Hexo部署到阿里云ECS服务器</h1><h2 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1.准备工作\"></a>1.准备工作</h2><p> 在开始部署前，需要准备如下：<br>   1.本地搭建完成的Hexo博客<br>   2.已购买的一台ECS服务器<br>  3.已拥有SSL证书（可以申请免费证书）<br>   4.<code>X-shell</code>连接远程服务器的工具（Mac系统可以用<code>ProtX</code>）</p>\n<h2 id=\"2-安装配置git\"><a href=\"#2-安装配置git\" class=\"headerlink\" title=\"2.安装配置git\"></a>2.安装配置git</h2><h3 id=\"2-1安装依赖工具包\"><a href=\"#2-1安装依赖工具包\" class=\"headerlink\" title=\"2.1安装依赖工具包\"></a>2.1安装依赖工具包</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> curl-devel expat-devel gettext-devel openssl-devel zlib-devel <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-2安装编译工具\"><a href=\"#2-2安装编译工具\" class=\"headerlink\" title=\"2.2安装编译工具\"></a>2.2安装编译工具</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> gcc perl-ExtUtils-MakeMaker package<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-3删除旧版git\"><a href=\"#2-3删除旧版git\" class=\"headerlink\" title=\"2.3删除旧版git\"></a>2.3删除旧版git</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove <span class=\"token function\">git</span> <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-4进入根目录\"><a href=\"#2-4进入根目录\" class=\"headerlink\" title=\"2.4进入根目录\"></a>2.4进入根目录</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-5下载git到根目录\"><a href=\"#2-5下载git到根目录\" class=\"headerlink\" title=\"2.5下载git到根目录\"></a>2.5下载git到根目录</h3><p>鉴于下载地址的时效性，附上<a href=\"https://git-scm.com/download/linux\">官网地址</a>,后续git更新请去官网下载安装包。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://www.kernel.org/pub/software/scm/git/git-2.34.0.tar.gz --no-check-certificate<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果提示没有wget命令，先安装：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token function\">wget</span> <span class=\"token parameter variable\">-y</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-6解压git文件\"><a href=\"#2-6解压git文件\" class=\"headerlink\" title=\"2.6解压git文件\"></a>2.6解压git文件</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxf</span> git-2.34.0.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-7安装git\"><a href=\"#2-7安装git\" class=\"headerlink\" title=\"2.7安装git\"></a>2.7安装git</h3><p>进入git目录下</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> git-2.34.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>编译</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> all <span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/usr/local/git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>安装git到<code>/usr/local/git</code>下</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span> <span class=\"token assign-left variable\">prefix</span><span class=\"token operator\">=</span>/usr/local/git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"2-8配置git环境变量\"><a href=\"#2-8配置git环境变量\" class=\"headerlink\" title=\"2.8配置git环境变量\"></a>2.8配置git环境变量</h3><p>将git加入<code>PATH</code>目录中</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'export PATH=$PATH:/usr/local/git/bin'</span> <span class=\"token operator\">>></span> /etc/bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>让配置生效</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> /etc/bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>查看git是否安装成功</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token parameter variable\">--version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"3-创建用户并配置SSH免密登录\"><a href=\"#3-创建用户并配置SSH免密登录\" class=\"headerlink\" title=\"3.创建用户并配置SSH免密登录\"></a>3.创建用户并配置SSH免密登录</h2><h3 id=\"3-1创建用户并设置密码\"><a href=\"#3-1创建用户并设置密码\" class=\"headerlink\" title=\"3.1创建用户并设置密码\"></a>3.1创建用户并设置密码</h3><p>这里的<code>username</code>改成你自己的用户名，并且为用户设置一个密码。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">adduser <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>\n<span class=\"token function\">passwd</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h3 id=\"3-2为用户分配权限\"><a href=\"#3-2为用户分配权限\" class=\"headerlink\" title=\"3.2为用户分配权限\"></a>3.2为用户分配权限</h3><p>把用户添加到wheel组</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">usermod</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">-G</span> wheel<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"3-3本地创建密钥\"><a href=\"#3-3本地创建密钥\" class=\"headerlink\" title=\"3.3本地创建密钥\"></a>3.3本地创建密钥</h3><p>在本机电脑终端输入：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ssh-keygen <span class=\"token parameter variable\">-t</span> rsa<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4e8e708b68301638cbe24.png\" alt=\"终端截图\"><br>然后一直回车(不用输入)，新建一个密钥。</p>\n<p>一般来说在你创建的时候命令行会提示你密钥文件的路径，windows电脑一般是C:\\Users\\Administrator.ssh</p>\n<p>复制id_rsa.pub文件中的内容备用。</p>\n<h3 id=\"3-4配置公钥\"><a href=\"#3-4配置公钥\" class=\"headerlink\" title=\"3.4配置公钥\"></a>3.4配置公钥</h3><p>回到服务器终端，切换用户</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> - <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>创建<code>.ssh</code>文件夹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> .ssh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>新建<code>authorized_keys</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> .ssh/authorized_keys<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果提示没有vim，则先安装：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">vim</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>将刚刚<code>id_rsa.pub</code>公钥中的内容，复制粘贴到文件里，保存退出。</p>\n<h2 id=\"4-git仓库配置\"><a href=\"#4-git仓库配置\" class=\"headerlink\" title=\"4.git仓库配置\"></a>4.git仓库配置</h2><p>退出用户登录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">exit</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>此时应该是root用户，创建git目录，并修改目录的所有权和用户权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> /home/git/\n<span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> /home/git/\n<span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">755</span> /home/git/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>进入目录，建立git仓库，修改权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /home/git/\n<span class=\"token function\">git</span> init <span class=\"token parameter variable\">--bare</span> blog.git\n<span class=\"token function\">chown</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">-R</span> blog.git<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>新建钩子文件<code>post-receive</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /home/git/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>进入文本编辑器，粘贴下面两行。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token function\">git</span> --work-tree<span class=\"token operator\">=</span>/home/blog --git-dir<span class=\"token operator\">=</span>/home/git/blog.git checkout <span class=\"token parameter variable\">-f</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>保存退出。然后修改文件权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> +x /home/git/blog.git/hooks/post-receive<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"5-nginx配置\"><a href=\"#5-nginx配置\" class=\"headerlink\" title=\"5.nginx配置\"></a>5.nginx配置</h2><p>首先创建blog目录用户nginx转发</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> /home/blog/\n<span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>:<span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span> /home/blog/\n<span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">755</span> /home/blog/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"5-1安装nginx\"><a href=\"#5-1安装nginx\" class=\"headerlink\" title=\"5.1安装nginx\"></a>5.1安装nginx</h3><p>yum安装nginx（可以使用安装包安装，这里就不写了）</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> nginx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>启动nginx</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl start nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>查看nginx服务状态，绿色的active说明启动成功</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>设置nginx开机启动</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl <span class=\"token builtin class-name\">enable</span> nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>重启服务器</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">reboot</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>重启后，查看nginx服务状态，绿色的active说明启动成功</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"5-2下载SSL证书\"><a href=\"#5-2下载SSL证书\" class=\"headerlink\" title=\"5.2下载SSL证书\"></a>5.2下载SSL证书</h3><p>打开阿里云控制台SSL证书界面，点击下载按钮<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa62.png\" alt=\"SSL证书界面\"><br>选择Nginx版本<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa5c.png\" alt=\"Nginx版本\"><br>下载得到<code>.key</code>和<code>.pem</code>两个文件<br>在Nginx文件夹下创建cert文件夹</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> cert<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>通过X-shell将文件传入cert文件下<br><img src=\"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/md-imgs/63a4ef4208b683016392fa54.png\" alt=\"cert文件夹\"></p>\n<h3 id=\"5-3修改nginx转发配置（包含https）\"><a href=\"#5-3修改nginx转发配置（包含https）\" class=\"headerlink\" title=\"5.3修改nginx转发配置（包含https）\"></a>5.3修改nginx转发配置（包含https）</h3><p>在浏览器中输入服务器公网ip地址，测试是否能打开。<br>找到nginx的conf配置文件，我的是在<code>/etc/nginx/nginx.conf</code><br>修改配置文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /etc/nginx/nginx.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>找到server，修改如下</p>\n<pre class=\"line-numbers language-txt\" data-language=\"txt\"><code class=\"language-txt\">server &#123;\n          listen       443 ssl http2;\n          listen       [::]:443 ssl http2;\n          #域名\n          server_name  xxxxxx;\n          #博客根目录\n          root         /home/blog;\n\n          index index.html index.htm;\n          #pem文件地址\n          ssl_certificate /etc/nginx/cert/xxxxxxxxxxxx.pem;\n          #key文件地址\n          ssl_certificate_key /etc/nginx/cert/xxxxxxxxxxxx.key;\n          ssl_session_cache shared:SSL:1m;\n          ssl_session_timeout  10m;\n          #加密方式\n          ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;\n          ssl_prefer_server_ciphers on;\n      \n          # Load configuration files for the default server block.\n          include /etc/nginx/default.d/*.conf;\n     \n          error_page 404 /404.html;\n              location = /40x.html &#123;\n          &#125;\n      \n          error_page 500 502 503 504 /50x.html;\n              location = /50x.html &#123;\n          &#125;\n      &#125;\n    #将请求转成https\n      server &#123;\n          listen 80;\n          #域名\n          server_name xxxxxxx;\n          rewrite ^(.*)$ https://$host$1 permanent;\n       &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>重启nginx</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl restart nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>查看nginx状态，绿色表示成功！</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">systemctl status nginx.service<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"6-在hexo站点配置文件中配置\"><a href=\"#6-在hexo站点配置文件中配置\" class=\"headerlink\" title=\"6.在hexo站点配置文件中配置\"></a>6.在hexo站点配置文件中配置</h2><p>打开本地博客，找到_config.yml文件并打开，修改如下配置</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> git\n  <span class=\"token key atrule\">repository</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>username<span class=\"token punctuation\">]</span>@100.0.0.100<span class=\"token punctuation\">:</span>/home/git/blog.git   <span class=\"token comment\">#用户名@服务器Ip:git仓库位置</span>\n  <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>保存后，输入如下命令将本地博客部署到云服务器上</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">hexo clean\nhexo g\nhexo d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","feature":true,"text":"将Hexo部署到阿里云ECS服务器1.准备工作 在开始部署前，需要准备如下： 1.本地搭建完成的Hexo博客 2.已购买的一台ECS服务器 3.已拥有SSL证书（可以申请免费证书） 4.X-shell连接远程服务器的工具（Mac系统可以用ProtX） 2.安装配置git2.1安装...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/categories/Hexo.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/tags/Hexo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%B0%86Hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91ECS%E6%9C%8D%E5%8A%A1%E5%99%A8\"><span class=\"toc-text\">将Hexo部署到阿里云ECS服务器</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">1.准备工作</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEgit\"><span class=\"toc-text\">2.安装配置git</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%B7%A5%E5%85%B7%E5%8C%85\"><span class=\"toc-text\">2.1安装依赖工具包</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">2.2安装编译工具</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-3%E5%88%A0%E9%99%A4%E6%97%A7%E7%89%88git\"><span class=\"toc-text\">2.3删除旧版git</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-4%E8%BF%9B%E5%85%A5%E6%A0%B9%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">2.4进入根目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-5%E4%B8%8B%E8%BD%BDgit%E5%88%B0%E6%A0%B9%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">2.5下载git到根目录</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-6%E8%A7%A3%E5%8E%8Bgit%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">2.6解压git文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-7%E5%AE%89%E8%A3%85git\"><span class=\"toc-text\">2.7安装git</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-8%E9%85%8D%E7%BD%AEgit%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">2.8配置git环境变量</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%B9%B6%E9%85%8D%E7%BD%AESSH%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95\"><span class=\"toc-text\">3.创建用户并配置SSH免密登录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-1%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">3.1创建用户并设置密码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-2%E4%B8%BA%E7%94%A8%E6%88%B7%E5%88%86%E9%85%8D%E6%9D%83%E9%99%90\"><span class=\"toc-text\">3.2为用户分配权限</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-3%E6%9C%AC%E5%9C%B0%E5%88%9B%E5%BB%BA%E5%AF%86%E9%92%A5\"><span class=\"toc-text\">3.3本地创建密钥</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-4%E9%85%8D%E7%BD%AE%E5%85%AC%E9%92%A5\"><span class=\"toc-text\">3.4配置公钥</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-git%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">4.git仓库配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-nginx%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">5.nginx配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1%E5%AE%89%E8%A3%85nginx\"><span class=\"toc-text\">5.1安装nginx</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-2%E4%B8%8B%E8%BD%BDSSL%E8%AF%81%E4%B9%A6\"><span class=\"toc-text\">5.2下载SSL证书</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3%E4%BF%AE%E6%94%B9nginx%E8%BD%AC%E5%8F%91%E9%85%8D%E7%BD%AE%EF%BC%88%E5%8C%85%E5%90%ABhttps%EF%BC%89\"><span class=\"toc-text\">5.3修改nginx转发配置（包含https）</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E5%9C%A8hexo%E7%AB%99%E7%82%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">6.在hexo站点配置文件中配置</span></a></li></ol></li></ol>","author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"这是一个知识分享博客🎉，有什么建议请留言。欢迎探讨技术😁。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"mapped":true,"prev_post":{"title":"Linux之vim编辑器","uid":"ed524054e4ea66ffb037d331f140784b","slug":"Linux/vim编辑器","date":"2023-01-04T12:46:00.000Z","updated":"2023-02-02T15:45:56.238Z","comments":true,"path":"api/articles/Linux/vim编辑器.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVPCPNkBPLtLtZ8Uit4WUcTR.png","text":"第二章 vim编辑器一、vi编辑器简介vim 是一个全屏幕纯文本编辑器，是vi编辑器的增强版，我们主要讲解的是 vim 编辑器。可以利用别名让输入vi 命令的时候，实际上执行 vim编辑器，例如： [root@localhost ~]# alias vi='vim' #定义别名 ...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"Linux","slug":"Linux","count":4,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"}],"author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"这是一个知识分享博客🎉，有什么建议请留言。欢迎探讨技术😁。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"feature":true},"next_post":{"title":"Linux服务器管理建议","uid":"90e0c478513c4a16991925aa88ef6f99","slug":"Linux/Linux服务器管理建议","date":"2022-12-22T09:00:00.000Z","updated":"2023-02-02T15:45:42.919Z","comments":true,"path":"api/articles/Linux/Linux服务器管理建议.json","keywords":null,"cover":"https://yimoorua-img.oss-cn-chengdu.aliyuncs.com/images/AgAAC6u-TVPCPNkBPLtLtZ8Uit4WUcTR.png","text":"给初学者的 Linux 服务器管理建议一、学习 Linux 的注意事项1. Linux 严格区分大小写Linux 是严格区分大小写的，这一点和 Windows 不一样，所以操作时要注意区分大小写的不同，包括文件名和目录名、命令、命令选项、配置文件设置选项等。 2. Linux一切...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"Linux","slug":"Linux","count":4,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"}],"author":{"name":"YimooRua","slug":"blog-author","avatar":"/static/img/avator.gif","link":"/","description":"这是一个知识分享博客🎉，有什么建议请留言。欢迎探讨技术😁。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/static/img/svg/bilibili-line.svg","link":"https://space.bilibili.com/242073282"},"github":{"icon":"/static/img/svg/github.svg","link":"https://github.com/YimooR"},"csdn":{"icon":"/static/img/svg/csdn.svg","link":"https://blog.csdn.net/weixin_43143863?spm=1000.2115.3001.5343"},"qq":{"icon":"/static/img/svg/qq.svg","link":"https://user.qzone.qq.com/1035605573"}}}},"feature":true}}